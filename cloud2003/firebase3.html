<!--
@Author: John Isaacs <john>
@Date:   29-Mar-172017
@Filename: firebase3.html
@Last modified by:   john
@Last modified time: 11-Apr-172017
-->



<!DOCTYPE html>
<html>
  <head>
    <script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js"></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
  </head>
  <body>
    <div id='messagesDiv'></div>
    <script>
    //simple scritpt to demonstrate pulling particular values from a firebase table
    //uses firebase example database
      $(function() {
        var config = {
          databaseURL: "https://docs-examples.firebaseio.com"
        };
        firebase.initializeApp(config);
        //reference to firebase
        var myDataRef = firebase.database().ref();

          //order by key, aranges the firebase table in the order added
          //we serch the keys for any equalTo the value we are looking for
          myDataRef.orderByKey().equalTo("alanisawesome").on("child_added", function(snapshot) {
            //if we find something, create a snapshot
            var user = snapshot.val();
            //simply log the data we want to the console
            console.log("Author: " + user.full_name);
            console.log("Title: " + user.date_of_birth);

            //or add it to our page
            $('#messagesDiv').append("<h3>"+user.full_name+"</h3>");
            $('#messagesDiv').append("<p>"+user.date_of_birth+"</p>");

          });
        });
    </script>
  </body>
</html>
